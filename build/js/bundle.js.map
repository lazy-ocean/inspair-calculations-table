{"version":3,"file":"bundle.js","sources":["js/bundle.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CLASSNAMES = void 0;\nvar CLASSNAMES = {\n  inputs: \"form-field\"\n};\nexports.CLASSNAMES = CLASSNAMES;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _constants = require(\"./constants\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar schema = {\n  ProjectPrice: {\n    label: \"Стоимость проекта, ₽\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 1000000,\n    max: 50000000,\n    // TEST\n    value: 8400000,\n    step: 1000\n  },\n  FiredEmployees: {\n    label: \"Количество высвобождаемых работников, чел\",\n    placeholder: 0,\n    type: \"range\",\n    min: 1,\n    max: 20,\n    required: true,\n    // TEST\n    value: 4\n  },\n  Robots: {\n    label: \"Количество роботов в проекте\",\n    placeholder: 0,\n    type: \"range\",\n    min: 1,\n    max: 5,\n    required: true,\n    // TEST\n    value: 1\n  },\n  Performance: {\n    label: \"Ожидаемый прирост производительности, %\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 0,\n    max: 100,\n    // TEST\n    value: 0\n  },\n  Shifts: {\n    label: \"Количество смен в сутки (по 8 часов), шт.\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 0,\n    max: 3,\n    // TEST\n    value: 2\n  },\n  WorkingDays: {\n    label: \"Количество рабочих дней в неделю, шт.\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 1,\n    max: 7,\n    // TEST\n    value: 7\n  },\n  CostsPerPerson: {\n    label: \"Затраты на человека на линии в год (с учетом налогов), ₽/год\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 420000,\n    max: 1500000,\n    // TEST\n    value: 561168,\n    step: 1000\n  },\n  Savings: {\n    label: \"Дополнительная экономия (защитные костюмы, аттестации и пр.), ₽/год\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 10000,\n    max: 100000,\n    // TEST\n    value: 10000,\n    step: 1000\n  }\n};\n\nfunction createElementFromHTML(htmlString) {\n  var div = document.createElement(\"div\");\n  div.innerHTML = htmlString.trim();\n  return div.firstChild;\n} ////////////////////////////// СОЗДАНИЕ ФОРМЫ\n\n\nvar form = document.querySelector(\".form\");\nvar nodes = Object.keys(schema).map(function (item) {\n  var _schema$item = schema[item],\n      initialValue = _schema$item.initialValue,\n      value = _objectWithoutProperties(_schema$item, [\"initialValue\"]);\n\n  var attrs = Object.keys(value).reduce(function (acc, key) {\n    return acc + \"\".concat(key, \"=\\\"\").concat(value[key], \"\\\"\");\n  }, \"\") + \"class=\\\"\".concat(_constants.CLASSNAMES.inputs, \"\\\" name=\\\"\").concat(item, \"\\\"\");\n  var name = value[\"label\"];\n  var label = createElementFromHTML(\"<label class=\\\"form--label\\\" for=\\\"\".concat(item, \"\\\">\").concat(name, \"</label>\"));\n  var element = createElementFromHTML(\"<input \".concat(attrs, \" /><br />\"));\n  var output = createElementFromHTML(\"<output class=\\\"bubble bubble--\".concat(item, \"\\\"></output>\"));\n  var scale = createElementFromHTML(\"<div class=\\\"form--minmax\\\"><span>\".concat(value.min.toLocaleString(\"ru\"), \"</span><span>\").concat(value.max.toLocaleString(\"ru\"), \"</span></div>\"));\n  return {\n    item: item,\n    element: element,\n    label: label,\n    output: output,\n    scale: scale\n  };\n});\nnodes.forEach(function (node) {\n  form.append(createElementFromHTML(\"<div class= 'form--item form--item-\".concat(node.item, \"'></div>\")));\n  var item = document.querySelector(\".form--item-\".concat(node.item));\n  item.append(node.label);\n  item.append(createElementFromHTML(\"<div class= 'form--scale form--scale-\".concat(node.item, \"'></div>\")));\n  var formScale = document.querySelector(\".form--scale-\".concat(node.item));\n  formScale.append(node.element);\n  formScale.append(node.output);\n  formScale.append(node.scale); //form.append(node.label);\n  //form.append(node.element);\n  //form.append(node.output);\n}); ////////////////////////////// ВАЛИДАЦИЯ\n\nvar validate = function validate(values) {\n  var errors = {};\n  Object.keys(values).forEach(function (item) {\n    if (schema[item].required && !values[item]) {\n      errors[item] = \"Пожалуйста, заполните поле\";\n    }\n  });\n  return errors;\n}; ////////////////////////////// РАСЧЕТЫ\n\n\nfunction calculate(values) {\n  var intValues = Object.keys(values).reduce(function (acc, item) {\n    acc[item] = parseFloat(values[item]);\n    return acc;\n  }, {});\n  var ProjectPrice = intValues.ProjectPrice,\n      FiredEmployees = intValues.FiredEmployees,\n      Robots = intValues.Robots,\n      Performance = intValues.Performance,\n      Shifts = intValues.Shifts,\n      WorkingDays = intValues.WorkingDays,\n      CostsPerPerson = intValues.CostsPerPerson,\n      Savings = intValues.Savings;\n  var tableArr = [];\n  var maxYears = 20;\n\n  for (var year = 1; year <= maxYears; year++) {\n    // Расход энергии роботом\n    var ENEGRYCONS = 5; // Процент загрузки робота\n\n    var CARRYINGCAPACITY = 0.9; // Инфляция\n\n    var INFLATION = 0.05; // Стоимость электроэнергии\n\n    var ELECTRICITYCOSTS = 4.5; // Кол-во рабочих часов в смену\n\n    var WORKHOURS = 8; // Кол-во недель в году\n\n    var WORKWEEKS = 50;\n    var yearIndex = 1 + (year - 1) * INFLATION;\n    var row = {};\n    row.year = year; /////// maintenance - Стоимость обслуживания, ₽ [2]\n\n    year % 5 === 0 ? row.maintenance = 360000 : row.maintenance = 120000; //prettier-ignore\n    /////// operational - Стоимость операционных расходов,₽ [3]\n\n    row.operational = ENEGRYCONS * Robots * CARRYINGCAPACITY * yearIndex * Shifts * WorkingDays * ELECTRICITYCOSTS * WORKHOURS * WORKWEEKS; /////// salary saved - Экономия ФОТ, ₽ [4]\n    /////// investments - Стоимость вложений, ₽ [1]\n\n    if (year === 1) {\n      row.salarySaved = FiredEmployees * CostsPerPerson * yearIndex - CostsPerPerson * (FiredEmployees / 5);\n      row.investments = ProjectPrice;\n    } else {\n      row.investments = 0;\n      row.salarySaved = FiredEmployees * CostsPerPerson * yearIndex - CostsPerPerson * (FiredEmployees / 5) * yearIndex;\n    } /////// performanceSaved - Экономия за счет увеличения производительности, ₽ [5]\n\n\n    row.performanceSaved = row.salarySaved * (Performance / 100); /////// otherSaved - Прочая экономия, ₽ [6]\n\n    row.otherSaved = Savings; /////// cashflowYear - Ежегодный кэш-флоу, ₽ [7]\n    /////// cashflow - Суммарный кэш-флоу, ₽ [8]\n\n    if (year === 1) {\n      row.cashflowYear = row.salarySaved + row.performanceSaved + row.otherSaved - ProjectPrice - row.maintenance - row.operational;\n      row.cashflow = row.cashflowYear;\n    } else {\n      row.cashflowYear = row.salarySaved + row.performanceSaved + row.otherSaved - row.maintenance - row.operational;\n      row.cashflow = row.cashflowYear + tableArr[year - 2][\"cashflow\"];\n    }\n\n    tableArr.push(row);\n  }\n\n  return tableArr;\n} ////////////////////////////// ТАБЛИЦА\n\n\nvar makeTable = function makeTable(tableArr) {\n  var table = ['<table id=\"resultTable\"><tr><th>Год</th><th>Ежегодный кэш-флоу,&nbsp;₽</th><th>Суммарный кэш-флоу,&nbsp;₽</th><th>Вложения,&nbsp;₽</th><th>Обслуживание,&nbsp;₽</th><th>Операционные расходы,&nbsp;₽</th><th>Экономия ФОТ,&nbsp;₽</th><th>Экономия от увеличения производительности,&nbsp;₽</th></tr>'];\n\n  var _iterator = _createForOfIteratorHelper(tableArr),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      //prettier-ignore\n      var year = item.year,\n          investments = item.investments,\n          maintenance = item.maintenance,\n          operational = item.operational,\n          salarySaved = item.salarySaved,\n          performanceSaved = item.performanceSaved,\n          cashflowYear = item.cashflowYear,\n          cashflow = item.cashflow; //prettier-ignore\n\n      var str = [year, cashflowYear, cashflow, investments, maintenance, operational, salarySaved, performanceSaved].map(function (column) {\n        return \"<td>\".concat(column.toLocaleString(\"ru\"), \"</td>\");\n      }).join(\"\");\n      table.push(\"<tr>\".concat(str, \"</tr>\"));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  table.push(\"</table>\");\n  var HTMLtable = table.join(\"\");\n  return HTMLtable;\n}; ////////////////////////////// SUBMIT\n\n\nvar onSubmit = function onSubmit(event) {\n  event.preventDefault();\n  var values = Array.from(form.elements).reduce(function (acc, elem) {\n    if (elem.tagName === \"INPUT\") acc[elem.name] = elem.value;\n    return acc;\n  }, {});\n  var errors = validate(values);\n\n  if (Object.keys(errors).length) {\n    //...\n    console.log(errors);\n    return;\n  }\n\n  var result = calculate(values);\n  var tbl = createElementFromHTML(\"<section class=\\\"result\\\">\".concat(makeTable(result), \"</section>\"));\n  var payback = createElementFromHTML(\"<p class=\\\"payback\\\">\".concat(paybackFunc(result), \"</p>\"));\n  var resultTable = document.getElementById(\"resultTable\");\n  if (resultTable) resultTable.remove();\n  var resultPayback = document.getElementById(\"paybackText\");\n  if (resultPayback) resultPayback.remove(); //document.body.appendChild(payback);\n  //document.body.appendChild(tbl);\n\n  var container = document.body.querySelector(\".container\");\n  container.append(payback);\n  container.append(tbl);\n  var resultDiv = document.querySelector(\".result\");\n  var info = document.querySelector(\".information\");\n  container.append(info);\n  info.style.display = \"block\";\n  info.scrollIntoView();\n};\n\nform.addEventListener(\"submit\", onSubmit, true); ////////// ОКУПАЕМОСТЬ\n\nvar plural = function plural(years, months) {\n  var text = \"Срок окупаемости&nbsp;– \";\n  var casesY = [\"год\", \"года\", \"года\", \"года\", \"лет\"];\n  var indexY = years % 100 > 4 && years % 100 <= 20 ? 4 : years % 10 < 5 ? years % 10 - 1 : 4;\n  text += years !== 0 ? \"\".concat(years, \"&nbsp;\").concat(casesY[indexY], \" \") : \"\";\n  var casesM = [\"месяц\", \"месяца\", \"месяца\", \"месяца\", \"месяцев\"];\n  var indexM = months % 100 > 4 && months % 100 <= 20 ? 4 : months % 10 < 5 ? months % 10 - 1 : 4;\n  text += months !== 0 ? \"\".concat(months, \"&nbsp;\").concat(casesM[indexM]) : \"\";\n  return text;\n};\n\nvar paybackFunc = function paybackFunc(table) {\n  var paybackYears;\n  var paybackMonths = 0; // Кол-во лет до окупаемости\n\n  var payback = table.find(function (row) {\n    return row.cashflow > 0;\n  }) || null;\n  if (payback === null) return \"Проект не окупается\"; // Предполагаем, что окупается за N лет + m месяцев, поэтому отнимаем от первого положительного года 1, чтобы посчитать месяцы\n\n  paybackYears = payback.year - 1; // Кол-во месяцев до окупаемости:\n\n  var paybackRow = paybackYears > 0 ? table[paybackYears - 1] : table[0];\n  var salarySaved = paybackRow.salarySaved,\n      performanceSaved = paybackRow.performanceSaved,\n      otherSaved = paybackRow.otherSaved,\n      maintenance = paybackRow.maintenance,\n      operational = paybackRow.operational,\n      investments = paybackRow.investments;\n  var savings = salarySaved + performanceSaved + otherSaved;\n  var spendings = maintenance + operational;\n  var tempCashflow = paybackYears > 0 ? paybackRow.cashflow : -investments;\n\n  while (tempCashflow < 0) {\n    tempCashflow += (savings - spendings) / 12;\n    paybackMonths += 1;\n  }\n\n  if (paybackMonths === 12) {\n    paybackMonths = 0;\n    paybackYears += 1;\n  }\n\n  return plural(paybackYears, paybackMonths);\n}; ////// BUBBLES FOR THE FORM\n\n\nvar allScales = document.querySelectorAll(\".form--item\");\nallScales.forEach(function (item) {\n  var scale = item.querySelector(\".form-field\");\n  var bubble = item.querySelector(\".bubble\");\n  scale.addEventListener(\"input\", function () {\n    setBubble(scale, bubble);\n  });\n  setBubble(scale, bubble);\n});\n\nfunction setBubble(scale, bubble) {\n  var value = ~~scale.value;\n  var min = scale.min;\n  var max = scale.max;\n  var newValue = Number((value - min) * 100 / (max - min));\n  bubble.innerHTML = value.toLocaleString(\"ru\");\n  bubble.style.left = \"calc(\".concat(newValue, \"% + (\").concat(10 - newValue * 0.15, \"px))\");\n} /// ИНФОРМАЦИЯ\n\n\nvar infobtn = document.querySelector(\".information--btn\");\nvar infotxt = document.querySelector(\".information--text\");\ninfobtn.addEventListener(\"click\", function () {\n  infotxt.classList.toggle(\"is-visible\");\n});\n\n},{\"./constants\":1}]},{},[2]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","CLASSNAMES","inputs","2","_constants","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","prototype","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","F","s","done","_e","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","_objectWithoutProperties","source","excluded","key","target","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","schema","ProjectPrice","label","placeholder","type","required","min","max","FiredEmployees","Robots","Performance","Shifts","WorkingDays","CostsPerPerson","Savings","createElementFromHTML","htmlString","div","document","createElement","innerHTML","trim","firstChild","form","querySelector","map","item","_schema$item","initialValue","attrs","reduce","acc","concat","element","output","scale","toLocaleString","forEach","node","append","formScale","addEventListener","event","preventDefault","values","errors","result","tbl","payback","resultTable","resultPayback","container","info","elements","elem","tagName","console","log","intValues","parseFloat","tableArr","year","yearIndex","row","maintenance","operational","salarySaved","investments","performanceSaved","otherSaved","cashflowYear","cashflow","push","calculate","_step","table","_iterator","str","column","join","makeTable","paybackFunc","getElementById","remove","body","style","display","scrollIntoView","paybackYears","paybackMonths","find","paybackRow","savings","spendings","tempCashflow","years","months","text","indexY","indexM","plural","setBubble","bubble","newValue","Number","left","querySelectorAll","infobtn","infotxt","classList","toggle","./constants"],"mappings":"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"}