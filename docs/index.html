<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style>@charset "UTF-8";*{-webkit-box-sizing:border-box;box-sizing:border-box}body{background:#555559;color:#fff;margin:0;font-family:Montserrat,Arial,sans-serif;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.container{width:100%;max-width:1200px;margin:0 auto;padding:0 30px}.form-container{max-width:1024px;margin:0 auto 60px;padding:0 35px}.form--item{margin-top:40px;margin-bottom:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.form--label{padding-top:5px;max-width:35%;display:block}.form--scale{position:relative;width:60%}.form-field{display:block;width:100%;margin-top:15px;margin-bottom:20px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#ffb800;height:3px}.form-field:focus{outline:0}.form-field::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:#383838;border:#ffb800 2px solid;cursor:pointer}.form--minmax{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.bubble,.bubble::before{position:absolute;background:#ffb800;left:50%}.bubble{color:#000;padding:4px 12px;border-radius:4px;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.bubble::before{content:"";width:30px;height:15px;-webkit-clip-path:polygon(50% 0,0 100%,100% 100%);clip-path:polygon(50% 0,0 100%,100% 100%);-webkit-transform:translate(-50%,-112%);transform:translate(-50%,-112%)}.payback{font-size:36px;margin-top:15px;margin-bottom:30px}.information{display:none}.information.is-visible{display:block}.information--btn,.information--btn:active,.information--btn:visited{padding:5px 0;border-bottom:4px dashed #ffb800;font-weight:700;line-height:200%;cursor:pointer;text-decoration:none;color:#fff}.information--text{padding:10px;list-style:none;position:relative;display:none;-webkit-transition:max-height 1s ease-out;transition:max-height 1s ease-out}.information--text.is-visible,.submit-btn{display:block}.information--text>li{padding:5px;margin-left:10px}.information--text>li:before{content:"—";position:absolute;left:0}.submit-btn{width:50%;padding:15px;margin:20px auto;border:0;background-color:#ffb800;font-family:Montserrat,Arial,sans-serif;font-weight:400;font-size:16px;cursor:pointer;-webkit-transition:all .2s;transition:all .2s}.submit-btn:focus{outline:0}.submit-btn:hover{background-color:#f3c424}.submit-btn:active{-webkit-transform:translateY(3px);transform:translateY(3px)}#resultTable,.result{width:100%;overflow:auto}.result{background-color:#555559;color:#fff;display:block;height:60vh;margin-bottom:30px;-webkit-box-shadow:5px 10px 30px 0 rgba(46,46,46,.35);box-shadow:5px 10px 30px 0 rgba(46,46,46,.35);-webkit-overflow-scrolling:auto}#resultTable{margin-left:auto;margin-right:auto;padding:3px;font-size:15px;border-collapse:collapse;text-align:right;max-height:50vh}td,th{padding:15px;border-bottom:1px solid #a4a4a4;border-left:none;max-width:210px}th{text-align:right;position:sticky;top:0;z-index:2}th,tr:hover{background-color:#747474}td:first-child{text-align:left;min-width:40px;background-color:#636363;position:sticky;left:0;z-index:1}th:first-of-type{z-index:3;position:sticky;left:0}th+td{min-width:400px}.result::-webkit-scrollbar{width:10px}.result::-webkit-scrollbar-track{background-color:rgba(223,223,223,.267)}.result::-webkit-scrollbar-thumb{background-color:#ffb800}@media only screen and (max-width:900px){.form--item{display:block}.form--scale{width:100%}.form--label{max-width:100%}.result{width:100%}}@media only screen and (max-width:750px){.container{padding:0 15px}.form-container{width:100%}.payback{font-size:24px}}</style></head><body><div class="container"><div class="form-container"><form class="form" id="form" method="POST"></form><button type="submit" form="form" class="submit-btn">Отправить</button></div><div class="information"><a class="information--btn" href="#info--text">Параметры, используемые в&nbsp;вычислении:</a><ul id="info--text" class="information--text"><li>1 робот потребляет 5 кВт в час</li><li>Ежегодное обслуживание робота — 120 000 ₽</li><li>Стоимость обслуживания 1 раз в 5 лет — 360 000 ₽</li><li>Инфляция в год — 5%</li><li>Процент загрузки робота — 90%</li><li>Стоимость электроэнергии — 4,5 ₽ кВт в час</li></ul></div></div><script>!function e(t,r,n){function a(c,l){if(!r[c]){if(!t[c]){var i="function"==typeof require&&require;if(!l&&i)return i(c,!0);if(o)return o(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var s=r[c]={exports:{}};t[c][0].call(s.exports,function(e){return a(t[c][1][e]||e)},s,s.exports,e,t,r,n)}return r[c].exports}for(var o="function"==typeof require&&require,c=0;c<n.length;c++)a(n[c]);return a}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CLASSNAMES=void 0,r.CLASSNAMES={inputs:"form-field"}},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default={ProjectPrice:{label:"Стоимость проекта, ₽",placeholder:0,type:"range",required:!0,min:1e6,max:5e7,value:84e5,step:1e3},FiredEmployees:{label:"Количество высвобождаемых работников, чел",placeholder:0,type:"range",min:1,max:20,required:!0,value:4},Robots:{label:"Количество роботов в проекте",placeholder:0,type:"range",min:1,max:5,required:!0,value:1},Performance:{label:"Ожидаемый прирост производительности, %",placeholder:0,type:"range",required:!0,min:0,max:100,value:0},Shifts:{label:"Количество смен в сутки (по 8 часов), шт.",placeholder:0,type:"range",required:!0,min:0,max:3,value:2},WorkingDays:{label:"Количество рабочих дней в неделю, шт.",placeholder:0,type:"range",required:!0,min:1,max:7,value:7},CostsPerPerson:{label:"Затраты на человека на линии в год (с учетом налогов), ₽/год",placeholder:0,type:"range",required:!0,min:42e4,max:15e5,value:561168,step:1e3},Savings:{label:"Дополнительная экономия (защитные костюмы, аттестации и пр.), ₽/год",placeholder:0,type:"range",required:!0,min:1e4,max:1e5,value:1e4,step:1e3}}},{}],3:[function(e,t,r){"use strict";var n,a=e("./constants"),o=(n=e("./form/schema"))&&n.__esModule?n:{default:n};function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}var u=document.querySelector(".form");Object.keys(o.default).map(function(e){var t=o.default[e],r=(t.initialValue,function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(t,["initialValue"])),n=Object.keys(r).reduce(function(e,t){return e+"".concat(t,'="').concat(r[t],'"')},"")+'class="'.concat(a.CLASSNAMES.inputs,'" name="').concat(e,'"'),c=r.label,l=i('<label class="form--label" for="'.concat(e,'">').concat(c,"</label>"));return{item:e,element:i("<input ".concat(n," /><br />")),label:l,output:i('<output class="bubble bubble--'.concat(e,'"></output>')),scale:i('<div class="form--minmax"><span>'.concat(r.min.toLocaleString("ru"),"</span><span>").concat(r.max.toLocaleString("ru"),"</span></div>"))}}).forEach(function(e){u.append(i("<div class= 'form--item form--item-".concat(e.item,"'></div>")));var t=document.querySelector(".form--item-".concat(e.item));t.append(e.label),t.append(i("<div class= 'form--scale form--scale-".concat(e.item,"'></div>")));var r=document.querySelector(".form--scale-".concat(e.item));r.append(e.element),r.append(e.output),r.append(e.scale)}),u.addEventListener("submit",function(e){e.preventDefault();var t,r,n,a,l,f,m,d,p,v=Array.from(u.elements).reduce(function(e,t){return"INPUT"===t.tagName&&(e[t.name]=t.value),e},{}),y=(t=v,r={},Object.keys(t).forEach(function(e){o.default[e].required&&!t[e]&&(r[e]="Пожалуйста, заполните поле")}),r);Object.keys(y).length?console.log(y):(n=function(e){for(var t=Object.keys(e).reduce(function(t,r){return t[r]=parseFloat(e[r]),t},{}),r=t.ProjectPrice,n=t.FiredEmployees,a=t.Robots,o=t.Performance,c=t.Shifts,l=t.WorkingDays,i=t.CostsPerPerson,u=t.Savings,s=[],f=1;f<=20;f++){var m=1+.05*(f-1),d={};d.year=f,d.maintenance=f%5==0?36e4:12e4,d.operational=5*a*.9*m*c*l*4.5*8*50,1===f?(d.salarySaved=n*i*m-i*(n/5),d.investments=r):(d.investments=0,d.salarySaved=n*i*m-i*(n/5)*m),d.performanceSaved=d.salarySaved*(o/100),d.otherSaved=u,1===f?(d.cashflowYear=d.salarySaved+d.performanceSaved+d.otherSaved-r-d.maintenance-d.operational,d.cashflow=d.cashflowYear):(d.cashflowYear=d.salarySaved+d.performanceSaved+d.otherSaved-d.maintenance-d.operational,d.cashflow=d.cashflowYear+s[f-2].cashflow),s.push(d)}return s}(v),a=i('<section class="result">'.concat(function(e){var t,r=['<table id="resultTable"><tr><th>Год</th><th>Ежегодный кэш-флоу,&nbsp;₽</th><th>Суммарный кэш-флоу,&nbsp;₽</th><th>Вложения,&nbsp;₽</th><th>Обслуживание,&nbsp;₽</th><th>Операционные расходы,&nbsp;₽</th><th>Экономия ФОТ,&nbsp;₽</th><th>Экономия от увеличения производительности,&nbsp;₽</th></tr>'],n=c(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=a.year,l=a.investments,i=a.maintenance,u=a.operational,s=a.salarySaved,f=a.performanceSaved,m=[o,a.cashflowYear,a.cashflow,l,i,u,s,f].map(function(e){return"<td>".concat(e.toLocaleString("ru"),"</td>")}).join("");r.push("<tr>".concat(m,"</tr>"))}}catch(e){n.e(e)}finally{n.f()}return r.push("</table>"),r.join("")}(n),"</section>")),l=i('<p class="payback">'.concat(s(n),"</p>")),(f=document.getElementById("resultTable"))&&f.remove(),(m=document.getElementById("paybackText"))&&m.remove(),(d=document.body.querySelector(".container")).append(l),d.append(a),document.querySelector(".result"),p=document.querySelector(".information"),d.append(p),p.style.display="block",p.scrollIntoView())},!0);var s=function(e){var t,r=0,n=e.find(function(e){return 0<e.cashflow})||null;if(null===n)return"Проект не окупается";for(var a=0<(t=n.year-1)?e[t-1]:e[0],o=a.salarySaved,c=a.performanceSaved,l=a.otherSaved,i=a.maintenance,u=a.operational,s=a.investments,f=o+c+l,m=i+u,d=0<t?a.cashflow:-s;d<0;)d+=(f-m)/12,r+=1;return 12===r&&(r=0,t+=1),function(e,t){var r="Срок окупаемости&nbsp;– ",n=!(4<e%100&&e%100<=20)&&e%10<5?e%10-1:4,a=!(4<t%100&&t%100<=20)&&t%10<5?t%10-1:4;return(r+=0!==e?"".concat(e,"&nbsp;").concat(["год","года","года","года","лет"][n]," "):"")+(0!==t?"".concat(t,"&nbsp;").concat(["месяц","месяца","месяца","месяца","месяцев"][a]):"")}(t,r)};function f(e,t){var r=~~e.value,n=e.min,a=e.max,o=Number(100*(r-n)/(a-n));t.innerHTML=r.toLocaleString("ru"),t.style.left="calc(".concat(o,"% + (").concat(10-.15*o,"px))")}document.querySelectorAll(".form--item").forEach(function(e){var t=e.querySelector(".form-field"),r=e.querySelector(".bubble");t.addEventListener("input",function(){f(t,r)}),f(t,r)});var m=document.querySelector(".information--btn"),d=document.querySelector(".information--text");m.addEventListener("click",function(){d.classList.toggle("is-visible")})},{"./constants":1,"./form/schema":2}]},{},[3]);</script></body></html>