{"version":3,"file":"bundle.js","sources":["js/bundle.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculate = calculate;\nexports.calculatePayback = calculatePayback;\n\nvar _utils = require(\"../utils\");\n\nfunction calculate(values) {\n  var intValues = Object.keys(values).reduce(function (acc, item) {\n    acc[item] = parseFloat(values[item]);\n    return acc;\n  }, {});\n  var ProjectPrice = intValues.ProjectPrice,\n      FiredEmployees = intValues.FiredEmployees,\n      Robots = intValues.Robots,\n      Performance = intValues.Performance,\n      Shifts = intValues.Shifts,\n      WorkingDays = intValues.WorkingDays,\n      CostsPerPerson = intValues.CostsPerPerson,\n      Savings = intValues.Savings;\n  var tableArr = [];\n  var maxYears = 20;\n\n  for (var year = 1; year <= maxYears; year++) {\n    // Расход энергии роботом\n    var ENEGRYCONS = 5; // Процент загрузки робота\n\n    var CARRYINGCAPACITY = 0.9; // Инфляция\n\n    var INFLATION = 0.05; // Стоимость электроэнергии\n\n    var ELECTRICITYCOSTS = 4.5; // Кол-во рабочих часов в смену\n\n    var WORKHOURS = 8; // Кол-во недель в году\n\n    var WORKWEEKS = 50;\n    var yearIndex = 1 + (year - 1) * INFLATION;\n    var row = {};\n    row.year = year; /////// maintenance - Стоимость обслуживания, ₽ [2]\n\n    year % 5 === 0 ? row.maintenance = 360000 : row.maintenance = 120000; //prettier-ignore\n    /////// operational - Стоимость операционных расходов,₽ [3]\n\n    row.operational = ENEGRYCONS * Robots * CARRYINGCAPACITY * yearIndex * Shifts * WorkingDays * ELECTRICITYCOSTS * WORKHOURS * WORKWEEKS; /////// salary saved - Экономия ФОТ, ₽ [4]\n    /////// investments - Стоимость вложений, ₽ [1]\n\n    if (year === 1) {\n      row.salarySaved = FiredEmployees * CostsPerPerson * yearIndex - CostsPerPerson * (FiredEmployees / 5);\n      row.investments = ProjectPrice;\n    } else {\n      row.investments = 0;\n      row.salarySaved = FiredEmployees * CostsPerPerson * yearIndex - CostsPerPerson * (FiredEmployees / 5) * yearIndex;\n    } /////// performanceSaved - Экономия за счет увеличения производительности, ₽ [5]\n\n\n    row.performanceSaved = row.salarySaved * (Performance / 100); /////// otherSaved - Прочая экономия, ₽ [6]\n\n    row.otherSaved = Savings; /////// cashflowYear - Ежегодный кэш-флоу, ₽ [7]\n    /////// cashflow - Суммарный кэш-флоу, ₽ [8]\n\n    if (year === 1) {\n      row.cashflowYear = row.salarySaved + row.performanceSaved + row.otherSaved - ProjectPrice - row.maintenance - row.operational;\n      row.cashflow = row.cashflowYear;\n    } else {\n      row.cashflowYear = row.salarySaved + row.performanceSaved + row.otherSaved - row.maintenance - row.operational;\n      row.cashflow = row.cashflowYear + tableArr[year - 2][\"cashflow\"];\n    }\n\n    tableArr.push(row);\n  }\n\n  return tableArr;\n}\n\nfunction calculatePayback(table) {\n  var paybackYears;\n  var paybackMonths = 0; // Кол-во лет до окупаемости\n\n  var payback = table.find(function (row) {\n    return row.cashflow > 0;\n  }) || null;\n  if (payback === null) return \"Проект не окупается\"; // Предполагаем, что окупается за N лет + m месяцев, поэтому отнимаем от первого положительного года 1, чтобы посчитать месяцы\n\n  paybackYears = payback.year - 1; // Кол-во месяцев до окупаемости:\n\n  var paybackRow = paybackYears > 0 ? table[paybackYears - 1] : table[0];\n  var salarySaved = paybackRow.salarySaved,\n      performanceSaved = paybackRow.performanceSaved,\n      otherSaved = paybackRow.otherSaved,\n      maintenance = paybackRow.maintenance,\n      operational = paybackRow.operational,\n      investments = paybackRow.investments;\n  var savings = salarySaved + performanceSaved + otherSaved;\n  var spendings = maintenance + operational;\n  var tempCashflow = paybackYears > 0 ? paybackRow.cashflow : -investments;\n\n  while (tempCashflow < 0) {\n    tempCashflow += (savings - spendings) / 12;\n    paybackMonths += 1;\n  }\n\n  if (paybackMonths === 12) {\n    paybackMonths = 0;\n    paybackYears += 1;\n  }\n\n  return (0, _utils.plural)(paybackYears, paybackMonths);\n}\n\n},{\"../utils\":9}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _schema = _interopRequireDefault(require(\"./schema\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate\"));\n\nvar _calculate = require(\"./calculate\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  schema: _schema.default,\n  validate: _validate.default,\n  calculate: _calculate.calculate,\n  calculatePayback: _calculate.calculatePayback\n};\nexports.default = _default;\n\n},{\"./calculate\":1,\"./schema\":3,\"./validate\":4}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  ProjectPrice: {\n    label: \"Стоимость проекта, ₽\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 1000000,\n    max: 50000000,\n    // TEST\n    value: 8400000,\n    step: 1000\n  },\n  FiredEmployees: {\n    label: \"Количество высвобождаемых работников, чел\",\n    placeholder: 0,\n    type: \"range\",\n    min: 1,\n    max: 20,\n    required: true,\n    // TEST\n    value: 4\n  },\n  Robots: {\n    label: \"Количество роботов в проекте\",\n    placeholder: 0,\n    type: \"range\",\n    min: 1,\n    max: 5,\n    required: true,\n    // TEST\n    value: 1\n  },\n  Performance: {\n    label: \"Ожидаемый прирост производительности, %\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 0,\n    max: 100,\n    // TEST\n    value: 0\n  },\n  Shifts: {\n    label: \"Количество смен в сутки (по 8 часов), шт.\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 0,\n    max: 3,\n    // TEST\n    value: 2\n  },\n  WorkingDays: {\n    label: \"Количество рабочих дней в неделю, шт.\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 1,\n    max: 7,\n    // TEST\n    value: 7\n  },\n  CostsPerPerson: {\n    label: \"Затраты на человека на линии в год (с учетом налогов), ₽/год\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 420000,\n    max: 1500000,\n    // TEST\n    value: 561168,\n    step: 1000\n  },\n  Savings: {\n    label: \"Дополнительная экономия (защитные костюмы, аттестации и пр.), ₽/год\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 10000,\n    max: 100000,\n    // TEST\n    value: 10000,\n    step: 1000\n  }\n};\nexports.default = _default;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(values) {\n  var errors = {};\n  Object.keys(values).forEach(function (item) {\n    if (schema[item].required && !values[item]) {\n      errors[item] = \"Пожалуйста, заполните поле\";\n    }\n  });\n  return errors;\n};\n\nexports.default = _default;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CLASSNAMES = void 0;\nvar CLASSNAMES = {\n  inputs: \"form-field\"\n};\nexports.CLASSNAMES = CLASSNAMES;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _calculator = require(\"./calculator\");\n\nvar _table = _interopRequireDefault(require(\"./table\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar _default = function _default() {\n  function createElementFromHTML(htmlString) {\n    var div = document.createElement(\"div\");\n    div.innerHTML = htmlString.trim();\n    return div.firstChild;\n  } ////////////////////////////// СОЗДАНИЕ ФОРМЫ\n\n\n  var form = document.querySelector(\".form\");\n  var nodes = Object.keys(_calculator.schema).map(function (item) {\n    var _schema$item = _calculator.schema[item],\n        initialValue = _schema$item.initialValue,\n        value = _objectWithoutProperties(_schema$item, [\"initialValue\"]);\n\n    var attrs = Object.keys(value).reduce(function (acc, key) {\n      return acc + \"\".concat(key, \"=\\\"\").concat(value[key], \"\\\"\");\n    }, \"\") + \"class=\\\"\".concat(_constants.CLASSNAMES.inputs, \"\\\" name=\\\"\").concat(item, \"\\\"\");\n    var name = value[\"label\"];\n    var label = createElementFromHTML(\"<label class=\\\"form--label\\\" for=\\\"\".concat(item, \"\\\">\").concat(name, \"</label>\"));\n    var element = createElementFromHTML(\"<input \".concat(attrs, \" /><br />\"));\n    var output = createElementFromHTML(\"<output class=\\\"bubble bubble--\".concat(item, \"\\\"></output>\"));\n    var scale = createElementFromHTML(\"<div class=\\\"form--minmax\\\"><span>\".concat(value.min.toLocaleString(\"ru\"), \"</span><span>\").concat(value.max.toLocaleString(\"ru\"), \"</span></div>\"));\n    return {\n      item: item,\n      element: element,\n      label: label,\n      output: output,\n      scale: scale\n    };\n  });\n  nodes.forEach(function (node) {\n    form.append(createElementFromHTML(\"<div class= 'form--item form--item-\".concat(node.item, \"'></div>\")));\n    var item = document.querySelector(\".form--item-\".concat(node.item));\n    item.append(node.label);\n    item.append(createElementFromHTML(\"<div class= 'form--scale form--scale-\".concat(node.item, \"'></div>\")));\n    var formScale = document.querySelector(\".form--scale-\".concat(node.item));\n    formScale.append(node.element);\n    formScale.append(node.output);\n    formScale.append(node.scale); //form.append(node.label);\n    //form.append(node.element);\n    //form.append(node.output);\n  }); ////////////////////////////// SUBMIT\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    var values = Array.from(form.elements).reduce(function (acc, elem) {\n      if (elem.tagName === \"INPUT\") acc[elem.name] = elem.value;\n      return acc;\n    }, {});\n    var errors = (0, _calculator.validate)(values);\n\n    if (Object.keys(errors).length) {\n      //...\n      console.log(errors);\n      return;\n    }\n\n    var result = (0, _calculator.calculate)(values);\n    var tbl = createElementFromHTML(\"<section class=\\\"result\\\">\".concat((0, _table.default)(result), \"</section>\"));\n    var payback = createElementFromHTML(\"<p class=\\\"payback\\\">\".concat((0, _calculator.calculatePayback)(result), \"</p>\"));\n    var resultTable = document.getElementById(\"resultTable\");\n    if (resultTable) resultTable.remove();\n    var resultPayback = document.getElementById(\"paybackText\");\n    if (resultPayback) resultPayback.remove(); //document.body.appendChild(payback);\n    //document.body.appendChild(tbl);\n\n    var container = document.body.querySelector(\".container\");\n    container.append(payback);\n    container.append(tbl);\n    var resultDiv = document.querySelector(\".result\");\n    var info = document.querySelector(\".information\");\n    container.append(info);\n    info.style.display = \"block\";\n    info.scrollIntoView();\n  };\n\n  form.addEventListener(\"submit\", onSubmit, true); ////// BUBBLES FOR THE FORM\n\n  var allScales = document.querySelectorAll(\".form--item\");\n  allScales.forEach(function (item) {\n    var scale = item.querySelector(\".form-field\");\n    var bubble = item.querySelector(\".bubble\");\n    scale.addEventListener(\"input\", function () {\n      setBubble(scale, bubble);\n    });\n    setBubble(scale, bubble);\n  });\n\n  function setBubble(scale, bubble) {\n    var value = ~~scale.value;\n    var min = scale.min;\n    var max = scale.max;\n    var newValue = Number((value - min) * 100 / (max - min));\n    bubble.innerHTML = value.toLocaleString(\"ru\");\n    bubble.style.left = \"calc(\".concat(newValue, \"% + (\").concat(10 - newValue * 0.15, \"px))\");\n  }\n};\n\nexports.default = _default;\n\n},{\"./calculator\":2,\"./constants\":5,\"./table\":8}],7:[function(require,module,exports){\n\"use strict\";\n\nvar _form = _interopRequireDefault(require(\"./form\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _form.default)();\nvar infobtn = document.querySelector(\".information--btn\");\nvar infotxt = document.querySelector(\".information--text\");\ninfobtn.addEventListener(\"click\", function () {\n  infotxt.classList.toggle(\"is-visible\");\n});\n\n},{\"./form\":6}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar _default = function _default(tableArr) {\n  var table = ['<table id=\"resultTable\"><tr><th>Год</th><th>Ежегодный кэш-флоу,&nbsp;₽</th><th>Суммарный кэш-флоу,&nbsp;₽</th><th>Вложения,&nbsp;₽</th><th>Обслуживание,&nbsp;₽</th><th>Операционные расходы,&nbsp;₽</th><th>Экономия ФОТ,&nbsp;₽</th><th>Экономия от увеличения производительности,&nbsp;₽</th></tr>'];\n\n  var _iterator = _createForOfIteratorHelper(tableArr),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      //prettier-ignore\n      var year = item.year,\n          investments = item.investments,\n          maintenance = item.maintenance,\n          operational = item.operational,\n          salarySaved = item.salarySaved,\n          performanceSaved = item.performanceSaved,\n          cashflowYear = item.cashflowYear,\n          cashflow = item.cashflow; //prettier-ignore\n\n      var str = [year, cashflowYear, cashflow, investments, maintenance, operational, salarySaved, performanceSaved].map(function (column) {\n        return \"<td>\".concat(column.toLocaleString(\"ru\"), \"</td>\");\n      }).join(\"\");\n      table.push(\"<tr>\".concat(str, \"</tr>\"));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  table.push(\"</table>\");\n  var HTMLtable = table.join(\"\");\n  return HTMLtable;\n};\n\nexports.default = _default;\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.plural = void 0;\n\nvar plural = function plural(years, months) {\n  var text = \"Срок окупаемости&nbsp;– \";\n  var casesY = [\"год\", \"года\", \"года\", \"года\", \"лет\"];\n  var indexY = years % 100 > 4 && years % 100 <= 20 ? 4 : years % 10 < 5 ? years % 10 - 1 : 4;\n  text += years !== 0 ? \"\".concat(years, \"&nbsp;\").concat(casesY[indexY], \" \") : \"\";\n  var casesM = [\"месяц\", \"месяца\", \"месяца\", \"месяца\", \"месяцев\"];\n  var indexM = months % 100 > 4 && months % 100 <= 20 ? 4 : months % 10 < 5 ? months % 10 - 1 : 4;\n  text += months !== 0 ? \"\".concat(months, \"&nbsp;\").concat(casesM[indexM]) : \"\";\n  return text;\n};\n\nexports.plural = plural;\n\n},{}]},{},[7]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","calculate","values","intValues","keys","reduce","acc","item","parseFloat","ProjectPrice","FiredEmployees","Robots","Performance","Shifts","WorkingDays","CostsPerPerson","Savings","tableArr","year","yearIndex","row","maintenance","operational","salarySaved","investments","performanceSaved","otherSaved","cashflowYear","cashflow","push","calculatePayback","table","paybackYears","paybackMonths","payback","find","paybackRow","savings","spendings","tempCashflow","_utils","plural","../utils","2","default","_schema","_interopRequireDefault","_validate","_calculate","obj","__esModule","_default","schema","validate","./calculate","./schema","./validate","3","label","placeholder","type","required","min","max","step","4","errors","forEach","5","CLASSNAMES","inputs","6","_constants","_calculator","_table","_objectWithoutProperties","source","excluded","key","target","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","createElementFromHTML","htmlString","div","document","createElement","innerHTML","trim","firstChild","form","querySelector","map","_schema$item","initialValue","attrs","concat","name","element","output","scale","toLocaleString","node","append","formScale","setBubble","bubble","newValue","Number","style","left","addEventListener","event","preventDefault","result","tbl","resultTable","resultPayback","container","info","Array","from","elements","elem","tagName","console","log","getElementById","remove","body","display","scrollIntoView","querySelectorAll","./calculator","./constants","./table","7","infobtn","infotxt","classList","toggle","./form","8","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","isArray","minLen","_arrayLikeToArray","toString","slice","constructor","test","_unsupportedIterableToArray","F","s","done","_e","TypeError","err","normalCompletion","didErr","next","_e2","return","arr","len","arr2","_step","_iterator","str","column","join","9","years","months","text","indexY","indexM"],"mappings":"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"}