{"version":3,"file":"bundle.js","sources":["js/bundle.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculate = calculate;\nexports.calculatePayback = calculatePayback;\n\nvar _utils = require(\"../utils\");\n\nfunction calculate(values) {\n  var intValues = Object.keys(values).reduce(function (acc, item) {\n    acc[item] = parseFloat(values[item]);\n    return acc;\n  }, {});\n  var ProjectPrice = intValues.ProjectPrice,\n      FiredEmployees = intValues.FiredEmployees,\n      Robots = intValues.Robots,\n      Performance = intValues.Performance,\n      Shifts = intValues.Shifts,\n      WorkingDays = intValues.WorkingDays,\n      CostsPerPerson = intValues.CostsPerPerson,\n      Savings = intValues.Savings;\n  var tableArr = [];\n  var maxYears = 20;\n\n  for (var year = 1; year <= maxYears; year++) {\n    // Расход энергии роботом\n    var ENEGRYCONS = 5; // Процент загрузки робота\n\n    var CARRYINGCAPACITY = 0.9; // Инфляция\n\n    var INFLATION = 0.05; // Стоимость электроэнергии\n\n    var ELECTRICITYCOSTS = 4.5; // Кол-во рабочих часов в смену\n\n    var WORKHOURS = 8; // Кол-во недель в году\n\n    var WORKWEEKS = 50;\n    var yearIndex = 1 + (year - 1) * INFLATION;\n    var row = {};\n    row.year = year; /////// maintenance - Стоимость обслуживания, ₽ [2]\n\n    year % 5 === 0 ? row.maintenance = 360000 : row.maintenance = 120000; //prettier-ignore\n    /////// operational - Стоимость операционных расходов,₽ [3]\n\n    row.operational = ENEGRYCONS * Robots * CARRYINGCAPACITY * yearIndex * Shifts * WorkingDays * ELECTRICITYCOSTS * WORKHOURS * WORKWEEKS; /////// salary saved - Экономия ФОТ, ₽ [4]\n    /////// investments - Стоимость вложений, ₽ [1]\n\n    if (year === 1) {\n      row.salarySaved = FiredEmployees * CostsPerPerson * yearIndex - CostsPerPerson * (FiredEmployees / 5);\n      row.investments = ProjectPrice;\n    } else {\n      row.investments = 0;\n      row.salarySaved = FiredEmployees * CostsPerPerson * yearIndex - CostsPerPerson * (FiredEmployees / 5) * yearIndex;\n    } /////// performanceSaved - Экономия за счет увеличения производительности, ₽ [5]\n\n\n    row.performanceSaved = row.salarySaved * (Performance / 100); /////// otherSaved - Прочая экономия, ₽ [6]\n\n    row.otherSaved = Savings; /////// cashflowYear - Ежегодный кэш-флоу, ₽ [7]\n    /////// cashflow - Суммарный кэш-флоу, ₽ [8]\n\n    if (year === 1) {\n      row.cashflowYear = row.salarySaved + row.performanceSaved + row.otherSaved - ProjectPrice - row.maintenance - row.operational;\n      row.cashflow = row.cashflowYear;\n    } else {\n      row.cashflowYear = row.salarySaved + row.performanceSaved + row.otherSaved - row.maintenance - row.operational;\n      row.cashflow = row.cashflowYear + tableArr[year - 2][\"cashflow\"];\n    }\n\n    tableArr.push(row);\n  }\n\n  return tableArr;\n}\n\nfunction calculatePayback(table) {\n  var paybackYears;\n  var paybackMonths = 0; // Кол-во лет до окупаемости\n\n  var payback = table.find(function (row) {\n    return row.cashflow > 0;\n  }) || null;\n  if (payback === null) return null; // Предполагаем, что окупается за N лет + m месяцев, поэтому отнимаем от первого положительного года 1, чтобы посчитать месяцы\n\n  paybackYears = payback.year - 1; // Кол-во месяцев до окупаемости:\n\n  var paybackRow = paybackYears > 0 ? table[paybackYears - 1] : table[0];\n  var salarySaved = paybackRow.salarySaved,\n      performanceSaved = paybackRow.performanceSaved,\n      otherSaved = paybackRow.otherSaved,\n      maintenance = paybackRow.maintenance,\n      operational = paybackRow.operational,\n      investments = paybackRow.investments;\n  var savings = salarySaved + performanceSaved + otherSaved;\n  var spendings = maintenance + operational;\n  var tempCashflow = paybackYears > 0 ? paybackRow.cashflow : -investments;\n\n  while (tempCashflow < 0) {\n    tempCashflow += (savings - spendings) / 12;\n    paybackMonths += 1;\n  }\n\n  if (paybackMonths === 12) {\n    paybackMonths = 0;\n    paybackYears += 1;\n  } //return plural(paybackYears, paybackMonths);\n\n\n  console.log(paybackYears, paybackMonths);\n  return {\n    paybackYears: paybackYears,\n    paybackMonths: paybackMonths\n  };\n}\n\n},{\"../utils\":9}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _schema = _interopRequireDefault(require(\"./schema\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate\"));\n\nvar _calculate = require(\"./calculate\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  schema: _schema.default,\n  validate: _validate.default,\n  calculate: _calculate.calculate,\n  calculatePayback: _calculate.calculatePayback\n};\nexports.default = _default;\n\n},{\"./calculate\":1,\"./schema\":3,\"./validate\":4}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  ProjectPrice: {\n    label: \"Стоимость проекта,&nbsp₽\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 1000000,\n    max: 50000000,\n    // TEST\n    value: 8400000,\n    step: 1000\n  },\n  FiredEmployees: {\n    label: \"Количество высвобождаемых работников,&nbspчел\",\n    placeholder: 0,\n    type: \"range\",\n    min: 1,\n    max: 20,\n    required: true,\n    // TEST\n    value: 4\n  },\n  Robots: {\n    label: \"Количество роботов в проекте\",\n    placeholder: 0,\n    type: \"range\",\n    min: 1,\n    max: 5,\n    required: true,\n    // TEST\n    value: 1\n  },\n  Performance: {\n    label: \"Ожидаемый прирост производительности,&nbsp%\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 0,\n    max: 100,\n    // TEST\n    value: 0\n  },\n  Shifts: {\n    label: \"Количество смен в сутки (по 8 часов),&nbspшт.\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 0,\n    max: 3,\n    // TEST\n    value: 2\n  },\n  WorkingDays: {\n    label: \"Количество рабочих дней в неделю,&nbspшт.\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 1,\n    max: 7,\n    // TEST\n    value: 7\n  },\n  CostsPerPerson: {\n    label: \"Затраты на человека на линии в год (с учетом налогов),&nbsp₽/год\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 420000,\n    max: 1500000,\n    // TEST\n    value: 561168,\n    step: 1000\n  },\n  Savings: {\n    label: \"Дополнительная экономия (защитные костюмы, аттестации и пр.),&nbsp₽/год\",\n    placeholder: 0,\n    type: \"range\",\n    required: true,\n    min: 10000,\n    max: 100000,\n    // TEST\n    value: 10000,\n    step: 1000\n  }\n};\nexports.default = _default;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _schema = _interopRequireDefault(require(\"./schema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default(values) {\n  var errors = {};\n  Object.keys(values).forEach(function (item) {\n    if (_schema.default[item].required && !values[item]) {\n      errors[item] = \"Пожалуйста, заполните поле\";\n    }\n  });\n  return errors;\n};\n\nexports.default = _default;\n\n},{\"./schema\":3}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CLASSNAMES = void 0;\nvar CLASSNAMES = {\n  inputs: \"form__field\"\n};\nexports.CLASSNAMES = CLASSNAMES;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _calculator = _interopRequireDefault(require(\"./calculator\"));\n\nvar _table = _interopRequireDefault(require(\"./table\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar schema = _calculator.default.schema,\n    validate = _calculator.default.validate,\n    calculate = _calculator.default.calculate,\n    calculatePayback = _calculator.default.calculatePayback;\n\nvar _default = function _default() {\n  function createElementFromHTML(htmlString) {\n    var div = document.createElement(\"div\");\n    div.innerHTML = htmlString.trim();\n    return div.firstChild;\n  } ////////////////////////////// СОЗДАНИЕ ФОРМЫ\n\n\n  var form = document.querySelector(\".form\");\n  var nodes = Object.keys(schema).map(function (item) {\n    var _schema$item = schema[item],\n        initialValue = _schema$item.initialValue,\n        value = _objectWithoutProperties(_schema$item, [\"initialValue\"]);\n\n    var attrs = Object.keys(value).reduce(function (acc, key) {\n      return acc + \"\".concat(key, \"=\\\"\").concat(value[key], \"\\\"\");\n    }, \"\") + \"class=\\\"\".concat(_constants.CLASSNAMES.inputs, \"\\\" name=\\\"\").concat(item, \"\\\"\");\n    var name = value[\"label\"];\n    var label = createElementFromHTML(\"<label class=\\\"form__label\\\" for=\\\"\".concat(item, \"\\\">\").concat(name, \"</label>\"));\n    var element = createElementFromHTML(\"<input \".concat(attrs, \" /><br />\"));\n    var output = createElementFromHTML(\"<output class=\\\"form__bubble form__bubble--\".concat(item, \"\\\"></output>\"));\n    var scale = createElementFromHTML(\"<div class=\\\"form__minmax\\\"><span>\".concat(value.min.toLocaleString(\"ru\"), \"</span><span>\").concat(value.max.toLocaleString(\"ru\"), \"</span></div>\"));\n    return {\n      item: item,\n      element: element,\n      label: label,\n      output: output,\n      scale: scale\n    };\n  });\n  nodes.forEach(function (node) {\n    form.append(createElementFromHTML(\"<div class= 'form__item form__item--\".concat(node.item, \"'></div>\")));\n    var item = document.querySelector(\".form__item--\".concat(node.item));\n    item.append(node.label);\n    item.append(createElementFromHTML(\"<div class= 'form__scale form__scale--\".concat(node.item, \"'></div>\")));\n    var formScale = document.querySelector(\".form__scale--\".concat(node.item));\n    formScale.append(node.element);\n    formScale.append(node.output);\n    formScale.append(node.scale); //form.append(node.label);\n    //form.append(node.element);\n    //form.append(node.output);\n  }); ////////////////////////////// SUBMIT\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    var values = Array.from(form.elements).reduce(function (acc, elem) {\n      if (elem.tagName === \"INPUT\") acc[elem.name] = elem.value;\n      return acc;\n    }, {});\n    var errors = validate(values);\n\n    if (Object.keys(errors).length) {\n      //...\n      console.log(errors);\n      return;\n    }\n\n    var result = calculate(values);\n    var paybackData = calculatePayback(result);\n    var payback = createElementFromHTML(\"<p class=\\\"payback\\\">\".concat(paybackData ? (0, _utils.plural)(paybackData.paybackYears, paybackData.paybackMonths) : \"Проект не окупается\", \"</p>\"));\n    var tbl = createElementFromHTML(\"<section class=\\\"result\\\">\".concat((0, _table.default)(result, paybackData ? paybackData.paybackYears - (paybackData.paybackMonths === 0 ? 1 : 0) : null), \"</section>\"));\n    var resultTable = document.querySelector(\".result\");\n    if (resultTable) resultTable.remove();\n    var resultPayback = document.querySelector(\".payback\");\n    if (resultPayback) resultPayback.remove();\n    var container = document.body.querySelector(\".container\");\n    container.append(payback);\n    container.append(tbl);\n    var resultDiv = document.querySelector(\".result\");\n    var info = document.querySelector(\".information\");\n    container.append(info);\n    info.classList.add(\"is-visible\");\n    payback.scrollIntoView();\n  };\n\n  form.addEventListener(\"submit\", onSubmit, true); ////// BUBBLES FOR THE FORM\n\n  var allScales = document.querySelectorAll(\".form__item\");\n  allScales.forEach(function (item) {\n    var scale = item.querySelector(\".form__field\");\n    var bubble = item.querySelector(\".form__bubble\");\n    scale.addEventListener(\"input\", function () {\n      setBubble(scale, bubble);\n    });\n    setBubble(scale, bubble);\n  });\n\n  function setBubble(scale, bubble) {\n    var value = ~~scale.value;\n    var min = scale.min;\n    var max = scale.max;\n    var newValue = Number((value - min) * 100 / (max - min));\n    bubble.innerHTML = value.toLocaleString(\"ru\");\n    bubble.style.left = \"calc(\".concat(newValue, \"% + (\").concat(10 - newValue * 0.15, \"px))\");\n  }\n};\n\nexports.default = _default;\n\n},{\"./calculator\":2,\"./constants\":5,\"./table\":8,\"./utils\":9}],7:[function(require,module,exports){\n\"use strict\";\n\nvar _form = _interopRequireDefault(require(\"./form\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _form.default)();\nvar infobtn = document.querySelector(\".information__btn\");\nvar infotxt = document.querySelector(\".information__text\");\ninfobtn.addEventListener(\"click\", function () {\n  infotxt.classList.toggle(\"is-visible\");\n});\n\n},{\"./form\":6}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(tableArr, highlightedRow) {\n  var table = ['<table id=\"resultTable\"><tr><th>Год</th><th>Ежегодный кэш-флоу,&nbsp;₽</th><th>Суммарный кэш-флоу,&nbsp;₽</th><th>Вложения,&nbsp;₽</th><th>Обслуживание,&nbsp;₽</th><th>Операционные расходы,&nbsp;₽</th><th>Экономия ФОТ,&nbsp;₽</th><th>Экономия от увеличения производительности,&nbsp;₽</th></tr>'];\n\n  for (var i = 0; i < tableArr.length; i++) {\n    var _tableArr$i = tableArr[i],\n        year = _tableArr$i.year,\n        investments = _tableArr$i.investments,\n        maintenance = _tableArr$i.maintenance,\n        operational = _tableArr$i.operational,\n        salarySaved = _tableArr$i.salarySaved,\n        performanceSaved = _tableArr$i.performanceSaved,\n        cashflowYear = _tableArr$i.cashflowYear,\n        cashflow = _tableArr$i.cashflow;\n    var str = [year, cashflowYear, cashflow, investments, maintenance, operational, salarySaved, performanceSaved].map(function (column) {\n      return \"<td>\".concat(column.toLocaleString(\"ru\"), \"</td>\");\n    }).join(\"\");\n    table.push(\"<tr class=\".concat(i === highlightedRow ? \"isHighlighted\" : \"\", \">\").concat(str, \"</tr>\"));\n  }\n\n  table.push(\"</table>\");\n  var HTMLtable = table.join(\"\");\n  return HTMLtable;\n};\n\nexports.default = _default;\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.plural = void 0;\n\nvar plural = function plural(years, months) {\n  var text = \"Срок окупаемости&nbsp;– \";\n  var casesY = [\"год\", \"года\", \"года\", \"года\", \"лет\"];\n  var indexY = years % 100 > 4 && years % 100 <= 20 ? 4 : years % 10 < 5 ? years % 10 - 1 : 4;\n  text += years !== 0 ? \"\".concat(years, \"&nbsp;\").concat(casesY[indexY], \" \") : \"\";\n  var casesM = [\"месяц\", \"месяца\", \"месяца\", \"месяца\", \"месяцев\"];\n  var indexM = months % 100 > 4 && months % 100 <= 20 ? 4 : months % 10 < 5 ? months % 10 - 1 : 4;\n  text += months !== 0 ? \"\".concat(months, \"&nbsp;\").concat(casesM[indexM]) : \"\";\n  return text;\n};\n\nexports.plural = plural;\n\n},{}]},{},[7]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","calculate","values","intValues","keys","reduce","acc","item","parseFloat","ProjectPrice","FiredEmployees","Robots","Performance","Shifts","WorkingDays","CostsPerPerson","Savings","tableArr","year","yearIndex","row","maintenance","operational","salarySaved","investments","performanceSaved","otherSaved","cashflowYear","cashflow","push","calculatePayback","table","paybackYears","paybackMonths","payback","find","paybackRow","savings","spendings","tempCashflow","console","log","../utils","2","default","_schema","_interopRequireDefault","_validate","_calculate","obj","__esModule","_default","schema","validate","./calculate","./schema","./validate","3","label","placeholder","type","required","min","max","step","4","errors","forEach","5","CLASSNAMES","inputs","6","_constants","_calculator","_table","_utils","_objectWithoutProperties","source","excluded","key","target","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","createElementFromHTML","htmlString","div","document","createElement","innerHTML","trim","firstChild","form","querySelector","map","_schema$item","initialValue","attrs","concat","name","element","output","scale","toLocaleString","node","append","formScale","setBubble","bubble","newValue","Number","style","left","addEventListener","event","preventDefault","result","paybackData","tbl","resultTable","resultPayback","container","info","Array","from","elements","elem","tagName","plural","remove","body","classList","add","scrollIntoView","querySelectorAll","./calculator","./constants","./table","./utils","7","infobtn","infotxt","toggle","./form","8","highlightedRow","_tableArr$i","str","column","join","9","years","months","text","indexY","indexM"],"mappings":"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"}